# H5 项目初始化规范

> UniApp + Vue3 项目初始化和配置规范

---

## 一、创建项目

### 1.1 使用 HBuilderX（推荐）

1. 打开 HBuilderX → 文件 → 新建 → 项目
2. 选择 `uni-app` → `Vue3` 版本
3. 勾选 `使用 TypeScript`
4. 选择模板：`默认模板`

### 1.2 使用 CLI

```bash
# 安装 @vue/cli
npm install -g @vue/cli

# 创建项目
npx degit dcloudio/uni-preset-vue#vite-ts my-project

# 进入目录
cd my-project

# 安装依赖
npm install
```

---

## 二、核心依赖

### 2.1 必装依赖

```json
{
  "dependencies": {
    "pinia": "2.0.35",
    "sass": "^1.26.5",
    "sass-loader": "^8.0.2",
    "z-paging": "^2.8.6"
  }
}
```

### 2.2 安装命令

```bash
npm install pinia@2.0.35 sass sass-loader z-paging
```

---

## 三、easycom 配置

在 `pages.json` 中配置自动导入：

```json
{
  "easycom": {
    "autoscan": true,
    "custom": {
      "^comp-(.*)": "@/components/comp-$1/comp-$1.vue",
      "^(?!z-paging-refresh|z-paging-load-more)z-paging(.*)": "z-paging/components/z-paging$1/z-paging$1.vue",
      "^uni-(.*)": "@dcloudio/uni-ui/lib/uni-$1/uni-$1.vue"
    }
  }
}
```

---

## 四、Pinia 配置

### 4.1 main.js/main.ts

```typescript
import { createSSRApp } from "vue";
import App from "./App.vue";
import { createPinia } from 'pinia';

export function createApp() {
  const app = createSSRApp(App);

  // 注册 Pinia
  const pinia = createPinia();
  app.use(pinia);

  return { app };
}
```

---

## 五、uni.scss 配置

在项目根目录创建 `uni.scss`，定义全局变量：

```scss
// === 品牌色 ===
$text-blue: #3277FF;
$bgc-blue: #3377FF;
$text-blue-light: #E8F0FF;

// === 中性色 ===
$text-black: #333333;
$text-grey: #84888F;
$text-grey-light: #999999;
$bgc-page: #F1F2F7;
$bgc-grey: #84888F;
$bgc-grey-text: #EAEDF2;
$bgc-white: #FFFFFF;

// === 功能色 ===
$text-red: #ED184E;
$bgc-red-type-one: #FF3D6E;
$bgc-red-type-two: #FFE0E6;
$bgc-red-type-three: #FBBCCC;
$text-orange: #FF6A00;
$bgc-orange: #FF6A00;

// === 边框色 ===
$border-grey: #E5E5E5;
$border-grey-light: #F0F0F0;

// === 间距 ===
$spacing-xs: 8rpx;
$spacing-sm: 16rpx;
$spacing-md: 20rpx;
$spacing-lg: 24rpx;
$spacing-xl: 32rpx;

// === 字体 ===
$font-size-xs: 24rpx;
$font-size-sm: 26rpx;
$font-size-base: 28rpx;
$font-size-lg: 32rpx;
$font-size-xl: 36rpx;

// === 圆角 ===
$border-radius-sm: 6rpx;
$border-radius-base: 8rpx;
$border-radius-lg: 12rpx;
```

---

## 六、manifest.json 配置

### 6.1 H5 配置

```json
{
  "h5": {
    "title": "应用名称",
    "router": {
      "mode": "hash",
      "base": "./"
    },
    "devServer": {
      "port": 8080,
      "proxy": {
        "/api": {
          "target": "http://localhost:3000",
          "changeOrigin": true
        }
      }
    }
  }
}
```

---

## 七、开发命令

```bash
# H5 开发
npm run dev:h5

# 微信小程序开发
npm run dev:mp-weixin

# App 开发
npm run dev:app

# H5 构建
npm run build:h5

# 微信小程序构建
npm run build:mp-weixin
```

---

## 八、检查清单

项目初始化后确认：

- [ ] `uni.scss` 包含所有颜色变量
- [ ] `pages.json` 配置了 easycom
- [ ] `main.js` 注册了 Pinia
- [ ] 安装了 z-paging 依赖
- [ ] 能正常运行 `npm run dev:h5`
